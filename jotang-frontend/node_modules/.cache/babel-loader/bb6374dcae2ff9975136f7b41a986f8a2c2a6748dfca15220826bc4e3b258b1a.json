{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"status-bar\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"response-area\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"header\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"h1\", null, \"API 功能演示 (Vue 3 + Router)\", -1 /* CACHED */)), _createElementVNode(\"nav\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"首页\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[4] || (_cache[4] = _createTextVNode(\" | \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/auth\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"登录/注册\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[5] || (_cache[5] = _createTextVNode(\" | \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/products\"\n  }, {\n    default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"商品\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[6] || (_cache[6] = _createTextVNode(\" | \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/orders\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"订单\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"当前状态:\", -1 /* CACHED */)), $setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, \"已登录\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"未登录\")), $setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 2,\n    onClick: $setup.handleLogout,\n    id: \"logoutButton\"\n  }, \" 退出登录 \")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"main\", null, [_createVNode(_component_router_view, {\n    onResponse: $setup.handleApiResponse\n  })]), _createElementVNode(\"div\", _hoisted_4, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"API 响应:\", -1 /* CACHED */)), _createElementVNode(\"pre\", null, _toDisplayString($setup.apiResponse), 1 /* TEXT */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","_cache","_hoisted_1","$setup","isAuthenticated","_hoisted_2","_hoisted_3","onClick","handleLogout","id","_component_router_view","onResponse","handleApiResponse","_hoisted_4","_toDisplayString","apiResponse"],"sources":["G:\\vue-project\\jotang-frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <header>\n      <h1>API 功能演示 (Vue 3 + Router)</h1>\n\n      <nav>\n        <router-link to=\"/\">首页</router-link> |\n        <router-link to=\"/auth\">登录/注册</router-link> |\n        <router-link to=\"/products\">商品</router-link> |\n        <router-link to=\"/orders\">订单</router-link>\n      </nav>\n\n      <div class=\"status-bar\">\n        <strong>当前状态:</strong>\n        <span v-if=\"isAuthenticated\">已登录</span>\n        <span v-else>未登录</span>\n        <button v-if=\"isAuthenticated\" @click=\"handleLogout\" id=\"logoutButton\">\n          退出登录\n        </button>\n      </div>\n    </header>\n\n    <main>\n      <router-view @response=\"handleApiResponse\" />\n    </main>\n\n    <div class=\"response-area\">\n      <h3>API 响应:</h3>\n      <pre>{{ apiResponse }}</pre>\n    </div>\n\n  </div> </template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuth } from '@/store/auth.js'\n\nconst { isAuthenticated, clearToken } = useAuth()\nconst apiResponse = ref('... 等待操作 ...')\nconst router = useRouter()\n\n// 接收来自子路由(页面)的 API 响应\nfunction handleApiResponse(data) {\n  apiResponse.value = JSON.stringify(data, null, 2)\n}\n\n// 处理退出登录\nfunction handleLogout() {\n  clearToken()\n  handleApiResponse({ code: 1, msg: \"已退出登录\", data: null }) //\n  router.push('/auth') // 退出后跳转到登录页\n}\n</script>\n\n<style scoped>\nheader {\n  background: #f9f9f9;\n  padding: 10px 20px;\n  border-bottom: 1px solid #ddd;\n}\nnav {\n  margin: 10px 0;\n}\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n  margin-right: 10px;\n}\nnav a.router-link-exact-active {\n  color: #42b983;\n}\nmain {\n  padding: 20px;\n}\n</style>"],"mappings":";;EAYWA,KAAK,EAAC;AAAY;;;;;;;;EAcpBA,KAAK,EAAC;AAAe;;;;uBAzB5BC,mBAAA,CA8BM,cA7BJC,mBAAA,CAkBS,iB,0BAjBPA,mBAAA,CAAkC,YAA9B,2BAAyB,qBAE7BA,mBAAA,CAKM,cAJJC,YAAA,CAAoCC,sBAAA;IAAvBC,EAAE,EAAC;EAAG;sBAAC,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;iDAAc,KACpC,qBAAAH,YAAA,CAA2CC,sBAAA;IAA9BC,EAAE,EAAC;EAAO;sBAAC,MAAK,KAAAC,MAAA,QAAAA,MAAA,O,iBAAL,OAAK,mB;;iDAAc,KAC3C,qBAAAH,YAAA,CAA4CC,sBAAA;IAA/BC,EAAE,EAAC;EAAW;sBAAC,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;iDAAc,KAC5C,qBAAAH,YAAA,CAA0CC,sBAAA;IAA7BC,EAAE,EAAC;EAAS;sBAAC,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;QAG9BJ,mBAAA,CAOM,OAPNK,UAOM,G,0BANJL,mBAAA,CAAsB,gBAAd,OAAK,qBACDM,MAAA,CAAAC,eAAe,I,cAA3BR,mBAAA,CAAuC,QAAAS,UAAA,EAAV,KAAG,M,cAChCT,mBAAA,CAAuB,QAAAU,UAAA,EAAV,KAAG,IACFH,MAAA,CAAAC,eAAe,I,cAA7BR,mBAAA,CAES;;IAFuBW,OAAK,EAAEJ,MAAA,CAAAK,YAAY;IAAEC,EAAE,EAAC;KAAe,QAEvE,K,uCAIJZ,mBAAA,CAEO,eADLC,YAAA,CAA6CY,sBAAA;IAA/BC,UAAQ,EAAER,MAAA,CAAAS;EAAiB,G,GAG3Cf,mBAAA,CAGM,OAHNgB,UAGM,G,0BAFJhB,mBAAA,CAAgB,YAAZ,SAAO,qBACXA,mBAAA,CAA4B,aAAAiB,gBAAA,CAApBX,MAAA,CAAAY,WAAW,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}