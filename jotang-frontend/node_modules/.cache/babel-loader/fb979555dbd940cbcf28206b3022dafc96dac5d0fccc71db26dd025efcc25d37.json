{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter } from 'vue-router';\nimport { useAuth } from '@/utils/auth';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const {\n      isLoggedIn,\n      removeToken\n    } = useAuth();\n    const router = useRouter();\n    const handleLogout = () => {\n      removeToken();\n      router.push({\n        name: 'Login'\n      });\n    };\n    const __returned__ = {\n      isLoggedIn,\n      removeToken,\n      router,\n      handleLogout,\n      get useRouter() {\n        return useRouter;\n      },\n      get useAuth() {\n        return useAuth;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useRouter","useAuth","isLoggedIn","removeToken","router","handleLogout","push","name"],"sources":["G:/vue-project/jotang-frontend/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app-layout\">\n    <nav>\n      <router-link to=\"/\">首页</router-link> |\n      <router-link to=\"/products\">商品列表</router-link> |\n      <router-link to=\"/orders/new\">新建订单</router-link> |\n\n      <span v-if=\"!isLoggedIn\" class=\"auth-links\">\n        <router-link to=\"/login\">登录</router-link> |\n        <router-link to=\"/signup\">注册</router-link>\n      </span>\n      <span v-else class=\"auth-links\">\n        <button @click=\"handleLogout\">登出</button>\n      </span>\n    </nav>\n    \n    <main>\n      <router-view />\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { useRouter } from 'vue-router';\nimport { useAuth } from '@/utils/auth';\n\nconst { isLoggedIn, removeToken } = useAuth();\nconst router = useRouter();\n\nconst handleLogout = () => {\n  removeToken();\n  router.push({ name: 'Login' });\n};\n</script>\n\n<style>\n/* 添加一些基本样式 */\nbody { font-family: sans-serif; margin: 0; }\nnav { \n  padding: 20px; \n  background: #f4f4f4; \n  border-bottom: 1px solid #ddd; \n  display: flex;\n  align-items: center;\n}\nnav a, nav button { \n  font-weight: bold; \n  color: #2c3e50; \n  margin: 0 10px;\n  text-decoration: none;\n}\nnav a.router-link-exact-active { color: #42b983; }\nnav button { \n  background: none; \n  border: none; \n  cursor: pointer; \n  padding: 0; \n  font-size: 1em;\n}\n.auth-links { margin-left: auto; }\nmain { padding: 20px; }\nform div { margin-bottom: 15px; }\nlabel { display: block; margin-bottom: 5px; font-weight: bold; }\ninput[type=\"text\"],\ninput[type=\"password\"],\ninput[type=\"number\"],\ninput[type=\"tel\"],\ntextarea {\n  width: 300px;\n  padding: 8px;\n  box-sizing: border-box;\n}\n</style>"],"mappings":";AAuBA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,OAAO,QAAQ,cAAc;;;;;;;IAEtC,MAAM;MAAEC,UAAU;MAAEC;IAAY,CAAC,GAAGF,OAAO,CAAC,CAAC;IAC7C,MAAMG,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAE1B,MAAMK,YAAY,GAAGA,CAAA,KAAM;MACzBF,WAAW,CAAC,CAAC;MACbC,MAAM,CAACE,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAQ,CAAC,CAAC;IAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}