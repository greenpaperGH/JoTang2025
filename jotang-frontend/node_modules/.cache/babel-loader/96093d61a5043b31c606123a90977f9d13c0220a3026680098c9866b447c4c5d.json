{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_2 = {\n  key: 1,\n  style: {\n    \"color\": \"green\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"h2\", null, \"创建新订单\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"])\n  }, [_createElementVNode(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"productId\"\n  }, \"商品 ID:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.order.productId = $event),\n    id: \"productId\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.order.productId, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"buyerId\"\n  }, \"购买者 ID:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.order.buyerId = $event),\n    id: \"buyerId\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.order.buyerId, void 0, {\n    number: true\n  }]])]), _createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"status\"\n  }, \"状态:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.order.status = $event),\n    id: \"status\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.order.status]])]), _cache[6] || (_cache[6] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"创建订单\", -1 /* CACHED */)), $setup.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.success ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString($setup.success), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["style","_createElementBlock","_createElementVNode","onSubmit","_withModifiers","$setup","handleSubmit","for","type","order","productId","$event","id","required","number","buyerId","status","error","_hoisted_1","_toDisplayString","success","_hoisted_2"],"sources":["G:\\vue-project\\jotang-frontend\\src\\views\\OrderForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>创建新订单</h2>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div>\r\n        <label for=\"productId\">商品 ID:</label>\r\n        <input type=\"number\" v-model.number=\"order.productId\" id=\"productId\" required>\r\n      </div>\r\n      <div>\r\n        <label for=\"buyerId\">购买者 ID:</label>\r\n        <input type=\"number\" v-model.number=\"order.buyerId\" id=\"buyerId\" required>\r\n      </div>\r\n      <div>\r\n        <label for=\"status\">状态:</label>\r\n        <input type=\"text\" v-model=\"order.status\" id=\"status\" required>\r\n      </div>\r\n\r\n      <button type=\"submit\">创建订单</button>\r\n      <p v-if=\"error\" style=\"color: red;\">{{ error }}</p>\r\n      <p v-if=\"success\" style=\"color: green;\">{{ success }}</p>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue';\r\nimport apiClient from '@/services/apiClient';\r\n\r\nconst order = reactive({\r\n  productId: null,\r\n  buyerId: null,\r\n  status: 'pending' // 默认状态\r\n});\r\nconst error = ref(null);\r\nconst success = ref(null);\r\n\r\nconst handleSubmit = async () => {\r\n  error.value = null;\r\n  success.value = null;\r\n  try {\r\n    const result = await apiClient('/product-orders', 'POST', order);\r\n    if (result.code === 1) {\r\n      success.value = '订单创建成功！';\r\n      // 重置表单\r\n      order.productId = null;\r\n      order.buyerId = null;\r\n      order.status = 'pending';\r\n    } else {\r\n      error.value = result.msg;\r\n    }\r\n  } catch (err) {\r\n    error.value = err.message;\r\n  }\r\n};\r\n</script>"],"mappings":";;;EAkBsBA,KAAmB,EAAnB;IAAA;EAAA;;;;EACEA,KAAqB,EAArB;IAAA;EAAA;;;uBAlBtBC,mBAAA,CAoBM,c,0BAnBJC,mBAAA,CAAc,YAAV,OAAK,qBACTA,mBAAA,CAiBO;IAjBAC,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,YAAY;MACjCJ,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAqC;IAA9BK,GAAG,EAAC;EAAW,GAAC,QAAM,qB,gBAC7BL,mBAAA,CAA8E;IAAvEM,IAAI,EAAC,QAAQ;+DAAiBH,MAAA,CAAAI,KAAK,CAACC,SAAS,GAAAC,MAAA;IAAEC,EAAE,EAAC,WAAW;IAACC,QAAQ,EAAR;iDAAhCR,MAAA,CAAAI,KAAK,CAACC,SAAS,E;IAAvBI,MAAM,EAAd;EAAgC,E,MAEvDZ,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAoC;IAA7BK,GAAG,EAAC;EAAS,GAAC,SAAO,qB,gBAC5BL,mBAAA,CAA0E;IAAnEM,IAAI,EAAC,QAAQ;+DAAiBH,MAAA,CAAAI,KAAK,CAACM,OAAO,GAAAJ,MAAA;IAAEC,EAAE,EAAC,SAAS;IAACC,QAAQ,EAAR;iDAA5BR,MAAA,CAAAI,KAAK,CAACM,OAAO,E;IAArBD,MAAM,EAAd;EAA8B,E,MAErDZ,mBAAA,CAGM,c,0BAFJA,mBAAA,CAA+B;IAAxBK,GAAG,EAAC;EAAQ,GAAC,KAAG,qB,gBACvBL,mBAAA,CAA+D;IAAxDM,IAAI,EAAC,MAAM;+DAAUH,MAAA,CAAAI,KAAK,CAACO,MAAM,GAAAL,MAAA;IAAEC,EAAE,EAAC,QAAQ;IAACC,QAAQ,EAAR;iDAA1BR,MAAA,CAAAI,KAAK,CAACO,MAAM,E,+BAG1Cd,mBAAA,CAAmC;IAA3BM,IAAI,EAAC;EAAQ,GAAC,MAAI,qBACjBH,MAAA,CAAAY,KAAK,I,cAAdhB,mBAAA,CAAmD,KAAnDiB,UAAmD,EAAAC,gBAAA,CAAZd,MAAA,CAAAY,KAAK,oB,mCACnCZ,MAAA,CAAAe,OAAO,I,cAAhBnB,mBAAA,CAAyD,KAAzDoB,UAAyD,EAAAF,gBAAA,CAAdd,MAAA,CAAAe,OAAO,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}