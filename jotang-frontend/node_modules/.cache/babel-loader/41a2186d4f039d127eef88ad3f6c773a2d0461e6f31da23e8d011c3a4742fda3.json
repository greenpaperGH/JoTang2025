{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  id: \"nav\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"首页\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[5] || (_cache[5] = _createTextVNode(\" | \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/products\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"商品列表\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[6] || (_cache[6] = _createTextVNode(\" | \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/create-order\"\n  }, {\n    default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"创建订单\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[7] || (_cache[7] = _createTextVNode(\" | \", -1 /* CACHED */)), !$setup.isLoggedIn ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"登录\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _cache[8] || (_cache[8] = _createTextVNode(\" | \", -1 /* CACHED */)), !$setup.isLoggedIn ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: \"/signup\"\n  }, {\n    default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\"注册\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 2,\n    onClick: $setup.logout,\n    href: \"#\"\n  }, \"退出登录\")) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["id","_createElementVNode","_hoisted_1","_createVNode","_component_router_link","to","_cache","$setup","isLoggedIn","_createBlock","_createElementBlock","onClick","logout","href","_component_router_view"],"sources":["G:\\vue-project\\jotang-frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"nav\">\n    <router-link to=\"/\">首页</router-link> |\n    <router-link to=\"/products\">商品列表</router-link> |\n    <router-link to=\"/create-order\">创建订单</router-link> |\n    <router-link v-if=\"!isLoggedIn\" to=\"/login\">登录</router-link> |\n    <router-link v-if=\"!isLoggedIn\" to=\"/signup\">注册</router-link>\n    <a v-if=\"isLoggedIn\" @click=\"logout\" href=\"#\">退出登录</a>\n  </div>\n  <router-view />\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\n// 简易的状态检查\nconst isLoggedIn = computed(() => !!localStorage.getItem('jwt-token'));\n\nconst logout = () => {\n  localStorage.removeItem('jwt-token');\n  // 强制刷新或重定向到登录页\n  router.push('/login').then(() => {\n    // 强制页面刷新以更新 isLoggedIn 状态 (简易做法)\n    window.location.reload(); \n  });\n};\n</script>\n\n<style>\n/* 添加一些基本样式 */\n#nav {\n  padding: 20px;\n  background-color: #f4f4f4;\n  text-align: center;\n}\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n  margin: 0 10px;\n  cursor: pointer;\n}\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;;;6DAAbC,mBAAA,CAOM,OAPNC,UAOM,GANJC,YAAA,CAAoCC,sBAAA;IAAvBC,EAAE,EAAC;EAAG;sBAAC,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;iDAAc,KACpC,qBAAAH,YAAA,CAA8CC,sBAAA;IAAjCC,EAAE,EAAC;EAAW;sBAAC,MAAI,KAAAC,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,mB;;iDAAc,KAC9C,qBAAAH,YAAA,CAAkDC,sBAAA;IAArCC,EAAE,EAAC;EAAe;sBAAC,MAAI,KAAAC,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,mB;;iDAAc,KAClD,qB,CAAoBC,MAAA,CAAAC,UAAU,I,cAA9BC,YAAA,CAA4DL,sBAAA;;IAA5BC,EAAE,EAAC;;sBAAS,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;sFAAc,KAC5D,qB,CAAoBC,MAAA,CAAAC,UAAU,I,cAA9BC,YAAA,CAA6DL,sBAAA;;IAA7BC,EAAE,EAAC;;sBAAU,MAAE,KAAAC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;2CACtCC,MAAA,CAAAC,UAAU,I,cAAnBE,mBAAA,CAAsD;;IAAhCC,OAAK,EAAEJ,MAAA,CAAAK,MAAM;IAAEC,IAAI,EAAC;KAAI,MAAI,K,qCAEpDV,YAAA,CAAeW,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}