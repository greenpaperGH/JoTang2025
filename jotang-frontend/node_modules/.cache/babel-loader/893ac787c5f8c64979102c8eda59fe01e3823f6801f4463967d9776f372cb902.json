{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n\n    // 简易的状态检查\n    const isLoggedIn = computed(() => !!localStorage.getItem('jwt-token'));\n    const logout = () => {\n      localStorage.removeItem('jwt-token');\n      // 强制刷新或重定向到登录页\n      router.push('/login').then(() => {\n        // 强制页面刷新以更新 isLoggedIn 状态 (简易做法)\n        window.location.reload();\n      });\n    };\n    const __returned__ = {\n      router,\n      isLoggedIn,\n      logout,\n      computed,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useRouter","router","isLoggedIn","localStorage","getItem","logout","removeItem","push","then","window","location","reload"],"sources":["G:/vue-project/jotang-frontend/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"nav\">\n    <router-link to=\"/\">首页</router-link> |\n    <router-link to=\"/products\">商品列表</router-link> |\n    <router-link to=\"/create-order\">创建订单</router-link> |\n    <router-link v-if=\"!isLoggedIn\" to=\"/login\">登录</router-link> |\n    <router-link v-if=\"!isLoggedIn\" to=\"/signup\">注册</router-link>\n    <a v-if=\"isLoggedIn\" @click=\"logout\" href=\"#\">退出登录</a>\n  </div>\n  <router-view />\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\n// 简易的状态检查\nconst isLoggedIn = computed(() => !!localStorage.getItem('jwt-token'));\n\nconst logout = () => {\n  localStorage.removeItem('jwt-token');\n  // 强制刷新或重定向到登录页\n  router.push('/login').then(() => {\n    // 强制页面刷新以更新 isLoggedIn 状态 (简易做法)\n    window.location.reload(); \n  });\n};\n</script>\n\n<style>\n/* 添加一些基本样式 */\n#nav {\n  padding: 20px;\n  background-color: #f4f4f4;\n  text-align: center;\n}\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n  margin: 0 10px;\n  cursor: pointer;\n}\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>"],"mappings":";AAaA,SAASA,QAAQ,QAAQ,KAAK;AAC9B,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAME,UAAU,GAAGH,QAAQ,CAAC,MAAM,CAAC,CAACI,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;IAEtE,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBF,YAAY,CAACG,UAAU,CAAC,WAAW,CAAC;MACpC;MACAL,MAAM,CAACM,IAAI,CAAC,QAAQ,CAAC,CAACC,IAAI,CAAC,MAAM;QAC/B;QACAC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B,CAAC,CAAC;IACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}